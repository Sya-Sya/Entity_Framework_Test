@model  EFTest.Models.ForgotPassword.OTPCode

@{
    ViewBag.Title = "Forgot Password";
    Layout = "~/Views/Shared/_FPassLayout.cshtml";
}

<tr>
    <td align="center" class="vervelogoplaceholder" height="143"
        style="padding-top:0;
               padding-bottom:0;
               padding-right:0;
               padding-left:0;
               height:143px;
               vertical-align:middle;"
        valign="middle">
        <span class="sg-image">
            <a href="#" target="_blank">
                <img alt="Verve Wine" height="34" src="~/Content/assets/image/Ok.png" style="height: 136px;" width="160">
            </a>
        </span>
    </td>
</tr>
<tr>
    <td class="one-column" style="padding-top:0;padding-bottom:0;padding-right:0;padding-left:0;background-color:#ffffff;">
        <table style="border-spacing:0;" width="100%">
            <tbody>
                <tr>
                    <td align="center" class="inner"
                        style="padding-top:15px;
                               padding-bottom:15px;
                               padding-right:30px;
                               padding-left:30px;"
                        valign="middle">
                        <span class="sg-image">
                            <img alt="Forgot Password" class="banner" width="150" height="150" src="https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-password-mobile-app-development-flaticons-lineal-color-flat-icons-2.png"/>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="inner contents center" style="padding-top:15px;padding-bottom:15px;padding-right:30px;padding-left:30px;text-align:left;">
                        <center>
                            <p class="h1 center" style="Margin:0;text-align:center;font-family:'flama-condensed','Arial Narrow',Arial;font-weight:100;font-size:30px;Margin-bottom:26px;">Verify OTP</p>
                            <p class="description center" style="font-family:'Muli','Arial Narrow',Arial;
                                                                Margin:0;text-align:center;
                                                                max-width:320px;
                                                                color:#a1a8ad;
                                                                line-height:24px;
                                                                font-size:15px;
                                                                Margin-bottom:10px;
                                                                margin-left: auto;
                                                                margin-right: auto;">
                                <span style="color: rgb(161, 168, 173); font-family: Muli, &quot;Arial Narrow&quot;, Arial; font-size: 15px; text-align: center; background-color: rgb(255, 255, 255);">Please Enter the 4 Digit Code.</span>
                            </p>
                            @using (Html.BeginForm("SendOTP", "LogIn", FormMethod.Post))
                            {
                                <div class="container">
                                    <div class="row justify-content-md-center">
                                        <div class="col-md-4 text-center">
                                            <div class="row">
                                                <div class="col-sm-12 mt-5 bgWhite">
                                                    <input class="otp" type="text" oninput='digitValidate(this)' onkeyup='tabChange(1)' maxlength=1>
                                                    <input class="otp" type="text" oninput='digitValidate(this)' onkeyup='tabChange(2)' maxlength=1>
                                                    <input class="otp" type="text" oninput='digitValidate(this)' onkeyup='tabChange(3)' maxlength=1>
                                                    <input class="otp" type="text" oninput='digitValidate(this)' onkeyup='tabChange(4)' maxlength=1>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <span class="sg-image">
                                    <button type="submit" class="postbutton">
                                        Verify
                                    </button>
                                </span>
                            }
                        </center>
                    </td>
                </tr>
            </tbody>
        </table>
    </td>
</tr>

@section Scripts{
    <script type="text/javascript">
        let digitValidate = function (ele) {
            console.log(ele.value);
            ele.value = ele.value.replace(/[^0-9]/g, '');
        }

        let tabChange = function (val) {
            let ele = document.querySelectorAll('input');
            if (ele[val - 1].value != '') {
                ele[val].focus()
            } else if (ele[val - 1].value == '') {
                ele[val - 2].focus()
            }
        }
    </script>
}